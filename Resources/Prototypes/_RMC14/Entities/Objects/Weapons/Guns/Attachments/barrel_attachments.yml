- type: entity
  abstract: true
  parent: RMCAttachableBase
  id: RMCBarrelAttachmentBase
  components:
  - type: Sprite
    sprite: _RMC14/Objects/Weapons/Guns/Attachments/barrel.rsi
  - type: Tag
    tags:
    - RMCAttachmentBarrel

- type: entity
  parent: RMCBarrelAttachmentBase
  id: RMCAttachmentExtendedBarrel
  name: "подовжений ствол"
  description: "Подовжений ствол прискорює і стабілізує кулю, збільшуючи її швидкість." # and accuracy.
  components:
  - type: Sprite
    state: ebarrel
  - type: Tag
    tags:
    - RMCAttachmentBarrel
    - RMCAttachmentExtendedBarrel
  - type: AttachableVisuals
  - type: AttachableWeaponRangedMods
    modifiers:
    - conditions:
        wieldedOnly: true
      accuracyAddMult: 0.2
    - projectileSpeedFlat: 10
  - type: AttachableWieldDelayMods
    modifiers:
    - delay: 0.4

- type: entity
  parent: RMCBarrelAttachmentBase
  id: RMCAttachmentBarrelCharger
  name: "зарядний пристрій для бочок"
  description: "Подовжувач ствола з гіперрезьбою, який підходить до дула більшості видів вогнепальної зброї. Значно збільшує пошкодження снаряда за рахунок швидкості стрільби."
  components:
  - type: Sprite
    state: hbarrel
  - type: Tag
    tags:
    - RMCAttachmentBarrel
    - RMCAttachmentBarrelCharger
  - type: AttachableVisuals
  - type: AttachableWeaponRangedMods
    modifiers:
    - fireDelayFlat: 0.25
    - conditions:
        wieldedOnly: true
      accuracyAddMult: -0.15
    - conditions:
        unwieldedOnly: true
      accuracyAddMult: -0.35
    - conditions:
        whitelist:
          tags:
          - RMCWeaponShotgun
      damageAddMult: 0.05
    - conditions:
        blacklist:
          tags:
          - RMCWeaponShotgun
      damageAddMult: 0.3

- type: entity
  parent: RMCBarrelAttachmentBase
  id: RMCAttachmentRecoilCompensator
  name: "компенсатор віддачі"
  description: "A muzzle attachment that reduces recoil by diverting expelled gasses upwards.
    Reduces recoil, at the cost of a small amount of weapon damage." # increases accuracy and reduces recoil
  components:
  - type: Sprite
    state: comp
  - type: Tag
    tags:
    - RMCAttachmentBarrel
    - RMCAttachmentRecoilCompensator
  - type: AttachableVisuals
  - type: AttachableWeaponRangedMods
    modifiers:
    - accuracyAddMult: 0.2
      damageFalloffAddMult: 0.1
      damageAddMult: -0.1
    - conditions:
        wieldedOnly: true
      recoilFlat: -3
    - conditions:
        unwieldedOnly: true
      recoilFlat: -2

- type: entity
  parent: RMCBarrelAttachmentBase
  id: RMCAttachmentSuppressor
  name: "пригнічувач"
  description: "A small tube with exhaust ports to expel noise and gas.
    Does not completely silence a weapon, but does make it much quieter at the cost of slightly reduced damage."
  components:
  - type: Sprite
    state: suppressor
  - type: Tag
    tags:
    - RMCAttachmentBarrel
    - RMCAttachmentSuppressor
  - type: AttachableVisuals
    prefix: suppressor2
  - type: AttachableSilencer
  - type: AttachableWeaponRangedMods
    modifiers:
    - damageFalloffAddMult: 0.1

- type: Tag
  id: RMCAttachmentBarrel

- type: Tag
  id: RMCAttachmentExtendedBarrel

- type: Tag
  id: RMCAttachmentRecoilCompensator

- type: Tag
  id: RMCAttachmentSuppressor

- type: Tag
  id: RMCAttachmentBarrelCharger
